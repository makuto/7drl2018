# Building Tests:
# jam clean
# jam -j4 -q

# Building Unreal:
# jam clean
# jam -j4 -q -sUNREAL=true GalavantPseudotarget

# (if building the same target repeatedly, don't clean, if that wasn't obvious)

##
## Compiler
##

CC = gcc ;

# GCC
#C++ = g++ ;
#LINK = g++ ;

# Clang
C++ = clang++ ;
LINK = clang++ ;

##
## Compiler arguments
##

## Argument explanation
#
#   g = debug symbols
#   -O0 = compile without optimizations for debugging
#
#   -Wall -Wextra = Error detection/tolerance
#   -Wno-unused-parameter = I should probably get rid of this at some point

# Arguments used on all projects, regardless of any variables
C++FLAGS = -std=c++11 -Wall -Wextra -Wno-unused-parameter -include src/Logging.hpp ;

ALLLIBSC++FLAGS = -g ;

OPTIM = -O0 ;

HDRS = libs/base2.0 ;

LINKLIBS = -lsfml-audio -lsfml-graphics -lsfml-window -lsfml-system ;

KEEPOBJS = true ; # This doesn't actually fix anything, though it seems like it should
NOARSCAN = true ; # This actually fixes the problem
#AR = ar rUu ; # I was thinking maybe the AR command was wrong (always outputting deterministically)
               # It doesn't seem like this is the problem though
AR = ar cr ;

# Some helpful Jam commands
# -q        : stop on failed target
# -jN       : use N cores
# -sVAR=VAL : Set VAR to VAL. Note that setting UNREAL=false is the same as setting UNREAL=true,
#              frustratingly
# -dx       : print commands being used
# -n        : don't actually run commands